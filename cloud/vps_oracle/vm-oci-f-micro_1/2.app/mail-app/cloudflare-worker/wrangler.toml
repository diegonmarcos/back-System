name = "email-forwarder"
main = "email-forwarder.js"
compatibility_date = "2024-01-01"
account_id = "e5cb0a0c6f448e54f217de484259f0ae"

# Email routing - Worker handles emails for this address
# Configure in Cloudflare Dashboard: Email > Email Routing > Routes
# Rule: me@diegonmarcos.com -> Send to Worker -> email-forwarder

# Environment variables
[vars]
# SMTP Proxy URL - subdomain pointing to VPS on port 8443 (Cloudflare-supported HTTPS port)
# Create DNS record: smtp.diegonmarcos.com -> 130.110.251.193 (proxied, orange cloud)
SMTP_PROXY_URL = "https://smtp-proxy.diegonmarcos.com/"
SMTP_PROXY_KEY = "stalwart-proxy-key-2025"
# Gmail backup - use diegonmarcos@gmail.com to avoid Worker loop
# me@diegonmarcos.com would trigger the same Worker again
GMAIL_BACKUP = "diegonmarcos@gmail.com"
